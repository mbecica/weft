<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>Weft: Custom Icon Example</title>
<link rel="stylesheet/less" type="text/css" href="style.less" />
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/raphael.js"></script>
<script type="text/javascript" src="js/plumpette.js"></script>
<script type="text/javascript" src="js/less.js"></script>
<script type="text/javascript" src="js/palette.js"></script>
<script type="text/javascript" src="js/appdirectIcons.js"></script>
<script type="text/javascript" src="js/brandedIcons.js"></script>
<script type="text/javascript">
window.onload = function() {
    var iconEl = $('.hIcon, .icon');
    iconEl.each(function() {
    	if ($(this).hasClass('simpleArrowRight')) {
	    makeIcon($(this), $(this).parent('a'));
	} else if ($(this).hasClass('screenshots')){
	    makeIcon($(this),$(this));
	}
    });
}
function getIconClass(element, exclude) {
    var classes = element.attr("className").split(" ");
    var curClass;
    $.each(classes, function(i) {
	if ($.inArray(classes[i], exclude) == -1) {
	    curClass = classes[i];
	}
    });
    return curClass;
};
function makeIcon(element, parentTarget) {
    var iconList = ['hIcon, icon'],
	name = getIconClass(element, iconList);
    if($.inArray(name, brandedIcons)) {
	if (parentTarget) {
	   plumpette.single(brandedIcons[name], name, parentTarget); 
	} else {
	   plumpette.single(brandedIcons[name], name);
	}
    }
};
</script>
</head>
<body>
<div id="content">
<a class="hIcon screenshots">Screenshot</a>
<ul>
    <li>
	<a>List Element</a>
    </li>
    <li>
	<a>List Element<span class="icon simpleArrowRight"></span></a>
    </li>
    <li>
	<a><span class="icon add"></span>Add List Element</a>
    </li>
</ul>
</div>
</body>
